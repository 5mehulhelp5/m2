fotoramaVersion="4.6.4",function(t,e,a,n,o){"use strict";var i="fotorama",r="fotorama__fullscreen",s="fotorama__wrap",u=s+"--video",l="fotorama__stage",c=l+"__frame",d="fotorama__grab",h="fotorama__arr",f=h+"--disabled",m="fotorama__nav",v=m+"-wrap",p=v+"--vertical",g=v+"--list",w=v+"--horizontal",b=m+"--dots",_=m+"--thumbs",y=m+"__frame",x="fotorama__fade",C=x+"-front",F=x+"-rear",k="fotorama__shadows",T="fotorama__active",P="fotorama__select",S="fotorama--fullscreen",E="fotorama__error",M="fotorama__loading",$="fotorama__loaded",j="fotorama__grabbing",z="fotorama__img",q=z+"--full",A="fotorama__video",N=A+"-play",D="fotorama_horizontal_ratio",L="fotorama_vertical_ratio",I="fotorama__spinner",O=n&&n.fn.jquery.split(".");if(!O||O[0]<1||1==O[0]&&O[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var R={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},W="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)R.ok=!0;else for(var K=0,H=W.length;K<H;K++)if(R.prefix=W[K],void 0!==e[R.prefix+"CancelFullScreen"]){R.ok=!0;break}R.ok&&(R.event=R.prefix+"fullscreenchange",R.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},R.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},R.cancel=function(t){return!!this.is()&&(""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]())});var B,Q,V,X,Y=n(t),U=n(e),J=e.createElement("div"),G="quirks"===a.hash.replace("#",""),Z="p"+(X="erspective")in(V=J.style)||"WebkitP"+X in V||"MozP"+X in V||"OP"+X in V||"msP"+X in V,tt=Z&&!G,et=(Z||e.compatMode,R.ok),at=navigator.userAgentData?navigator.userAgentData.mobile:navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),nt=!tt||at,ot=navigator.msPointerEnabled,it="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==o?"mousewheel":"DOMMouseScroll",rt=250,st=300,ut="$stageFrame",lt="$navDotFrame",ct="$navThumbFrame",dt="auto",ht=function(t){var e="bez_"+n.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof n.easing[e]){var a=function(t,e){var a=[null,null],n=[null,null],o=[null,null],i=function(i,r){return o[r]=3*t[r],n[r]=3*(e[r]-t[r])-o[r],a[r]=1-o[r]-n[r],i*(o[r]+i*(n[r]+i*a[r]))},r=function(t){return o[0]+t*(2*n[0]+3*a[0]*t)};return function(t){return i(function(t){for(var e,a=t,n=0;++n<14&&(e=i(a,0)-t,!(Math.abs(e)<.001));)a-=e/r(a);return a}(t),1)}};n.easing[e]=function(e,n,o,i,r){return i*a([t[0],t[1]],[t[2],t[3]])(n/r)+o}}return e}([.1,0,.25,1]),ft=1,mt={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:st,captions:!0,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!1,trackpad:!1,shuffle:!1,direction:"ltr",shadows:!0,showcaption:!0,navdir:"horizontal",navarrows:!0,navtype:"thumbs"},vt={left:!0,right:!0,down:!0,up:!0,space:!1,home:!1,end:!1};function pt(){}var gt=function(){let e=!1;try{const a={get passive(){return e=!0,!1}};t.addEventListener("test",null,a),t.removeEventListener("test",null,a)}catch(t){e=!1}return e}();function wt(t,e,a){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(a)?1/0:a,t))}function bt(t,e){return tt?+function(t,e){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?"vertical"===e?13:12:"vertical"===e?5:4]}(t.css("transform"),e):+t.css("vertical"===e?"top":"left").replace("px","")}function _t(t,e){var a={};if(tt)switch(e){case"vertical":a.transform="translate3d(0, "+t+"px,0)";break;case"list":break;default:a.transform="translate3d("+t+"px,0,0)"}else"vertical"===e?a.top=t:a.left=t;return a}function yt(t){return{"transition-duration":t+"ms"}}function xt(t,e){return isNaN(t)?e:t}function Ct(t,e){return xt(+String(t).replace(e||"px",""))}function Ft(t,e){return xt(function(t){return/%$/.test(t)?Ct(t,"%"):o}(t)/100*e,Ct(t))}function kt(t){return(!isNaN(Ct(t))||!isNaN(Ct(t,"%")))&&t}function Tt(t,e,a,n){return(t-(n||0))*(e+(a||0))}function Pt(t){var e=t.data();e.tEnd||(Vt(t[0],function(){var t,e={transition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(J.style[t]!==o)return e[t]}(),(function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()})),e.tEnd=!0)}var St=!1;function Et(t,e){var a=t.navdir||"horizontal";if(t.length){var n=t.data();tt?(t.css(yt(0)),n.onEndFn=pt,clearTimeout(n.tT)):t.stop();var o=Mt(e,(function(){return bt(t,a)}));return t.css(_t(o,a)),o}}function Mt(){for(var t,e=0,a=arguments.length;e<a&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function $t(t,e){return Math.round(t+(e-t)/1.5)}function jt(){return jt.p=jt.p||("https:"===a.protocol?"https://":"http://"),jt.p}function zt(t,a){if("string"!=typeof t)return t;var n,o;if(t=function(t){var a=e.createElement("a");return a.href=t,a}(t),t.host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i)),o="youtube"}}else t.host.match(/youtube\.com|youtu\.be|youtube-nocookie.com/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),o="youtube"):t.host.match(/vimeo\.com/)&&(o="vimeo",n=t.pathname.replace(/^\/(\w+\/)*/,"").replace(/\/.*/,""));return n&&o||!a||(n=t.href,o="custom"),!!n&&{id:n,type:o,s:t.search.replace(/^\?/,""),p:jt()}}function qt(t,e,a,o){for(var i=0,r=t.length;i<r;i++){var s=t[i];if(s.i===a&&s.thumbsReady){var u={videoReady:!0};u.$stageFrame=u.$navThumbFrame=u.$navDotFrame=!1,o.splice(i,1,n.extend({},s,u,e));break}}}function At(t){var e=[];function a(t,e,a){var o=a.thumb&&a.img!==a.thumb,i=Ct(a.width||t.attr("width")),r=Ct(a.height||t.attr("height"));n.extend(a,{width:i,height:r,thumbratio:Qt(a.thumbratio||Ct(a.thumbwidth||e&&e.attr("width")||o||i)/Ct(a.thumbheight||e&&e.attr("height")||o||r))})}return t.children().each((function(){var t,o,i,r,s,u,l,c,d,h=n(this),f=Bt(n.extend(h.data(),{id:h.attr("id")}));if(h.is("a, img"))o=f,i=!0,r=(t=h).children("img").eq(0),s=t.attr("href"),u=t.attr("src"),l=r.attr("src"),c=o.video,(d=!!i&&zt(s,!0===c))?s=!1:d=c,a(t,r,n.extend(o,{video:d,img:o.img||s||u||l,thumb:o.thumb||l||u||s}));else{if(h.is(":empty"))return;a(h,null,n.extend(f,{html:this,_html:h.html()}))}e.push(f)})),e}function Nt(t,e,a,n){return Nt.i||(Nt.i=1,Nt.ii=[!0]),n=n||Nt.i,void 0===Nt.ii[n]&&(Nt.ii[n]=!0),t()?e():Nt.ii[n]&&setTimeout((function(){Nt.ii[n]&&Nt(t,e,a,n)}),a||100),Nt.i++}function Dt(t,e){var a=t.data(),n=a.measures;if(n&&(!a.l||a.l.W!==n.width||a.l.H!==n.height||a.l.r!==n.ratio||a.l.w!==e.w||a.l.h!==e.h)){var o=wt(e.h,0,n.height),i=o*n.ratio;te.setRatio(t,i,o),a.l={W:n.width,H:n.height,r:n.ratio,w:e.w,h:e.h}}return!0}function Lt(t,e,a,n){return e!==a&&("vertical"===n?t<=e?"top":t>=a?"bottom":"top bottom":t<=e?"left":t>=a?"right":"left right")}function It(t,e,a){a=a||{},t.each((function(){var t,o=n(this),i=o.data();i.clickOn||(i.clickOn=!0,n.extend(ce(o,{onStart:function(e){t=e,(a.onStart||pt).call(this,e)},onMove:a.onMove||pt,onTouchEnd:a.onTouchEnd||pt,onEnd:function(a){a.moved||e.call(this,t)}}),{noMove:!0}))}))}function Ot(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function Rt(t){return"."+t}function Wt(t){for(var e=t.length;e;){var a=Math.floor(Math.random()*e--),n=t[e];t[e]=t[a],t[a]=n}return t}function Kt(t){return"[object Array]"==Object.prototype.toString.call(t)&&n.map(t,(function(t){return n.extend({},t)}))}function Ht(t,e,a){t.scrollLeft(e||0).scrollTop(a||0)}function Bt(t){if(t){var e={};return n.each(t,(function(t,a){e[t.toLowerCase()]=a})),e}}function Qt(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||o:e}}function Vt(t,e,a,n){e&&(t.addEventListener?t.addEventListener(e,a,!!gt&&{passive:!0}):t.attachEvent("on"+e,a))}function Xt(t,e){return t>e.max?t=e.max:t<e.min&&(t=e.min),t}function Yt(t,e){return e?{disabled:t}:{tabindex:-1*t+"",disabled:t}}function Ut(t,e){Vt(t,"keyup",(function(a){(function(t){return!!t.getAttribute("disabled")})(t)||13==a.keyCode&&e.call(t,a)}))}function Jt(t,e){Vt(t,"focus",t.onfocusin=function(a){e.call(t,a)})}function Gt(t,e){gt&&-1!==["touchstart","touchmove","touchcancel","touchend","wheel","mousewheel"].indexOf(t.type)||(t.preventDefault?t.preventDefault():t.returnValue=!1),e&&t.stopPropagation&&t.stopPropagation()}function Zt(t){return t?">":"<"}Nt.stop=function(t){Nt.ii[t]=!1};var te=(jQuery,{setRatio:function(t,e,a){e/a<=1?(t.parent().removeClass(D),t.parent().addClass(L)):(t.parent().removeClass(L),t.parent().addClass(D))},setThumbAttr:function(t,e,a){var i=a;t.attr(i)||t.attr(i)===o||t.attr(i,e),t.find("["+i+"]").length&&t.find("["+i+"]").each((function(){n(this).attr(i,e)}))},isExpectedCaption:function(t,e,a){var n,o=!1;return n=t.showCaption===a||!0===t.showCaption,!!e&&(t.caption&&n&&(o=!0),o)}});function ee(t,e){var a=t.data(),o=Math.round(e.pos),i=function(){a&&a.sliding&&(a.sliding=!1),(e.onEnd||pt)()};void 0!==e.overPos&&e.overPos!==e.pos&&(o=e.overPos);var r=n.extend(_t(o,e.direction),e.width&&{width:e.width},e.height&&{height:e.height});a&&a.sliding&&(a.sliding=!0),tt?(t.css(n.extend(yt(e.time),r)),e.time>10?function(t,e,a,n){var o,i=t.data();t.hasClass("fotorama__stage__shaft")&&t.css("pointer-events","none"),i&&(i.onEndFn=function(){o||(o=!0,clearTimeout(i.tT),a())},i.tProp=e,clearTimeout(i.tT),i.tT=setTimeout((function(){i.onEndFn()}),1.5*n),t.hasClass("fotorama__stage__shaft")&&(St&&clearTimeout(St),St=setTimeout((function(){t.css("pointer-events","")}),n+300)),Pt(t))}(t,"transform",i,e.time):i()):t.stop().animate(r,e.time,ht,i)}var ae,ne,oe,ie,re,se=!1;function ue(t,e,a,o,i,r){var s=void 0!==r;if(s||(i.push(arguments),Array.prototype.push.call(arguments,i.length),!(i.length>1))){t=t||n(t),e=e||n(e),t.parent().css("pointer-events","none");var u=t[0],l=e[0],c="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var t=(s||i.shift())&&i.shift();t&&ue.apply(this,t),(o.onEnd||pt)(!!t)}},h=o.time/(r||1);a.removeClass(F+" "+C),t.stop().addClass(F),e.stop().addClass(C),c&&l&&t.fadeTo(0,0),t.fadeTo(c?h:0,1,c&&d),e.fadeTo(h,0,d),u&&c||l||d(),se&&clearTimeout(St),se=setTimeout((function(){t.parent().css("pointer-events","")}),h+300)}}function le(t){var e=(t.touches||[])[0]||t;t._x=e.pageX||e.originalEvent.pageX,t._y=e.clientY||e.originalEvent.clientY,t._now=n.now()}function ce(t,a){var o,i,r,s,u,l,c,d,h,f,m=t[0],v={};function p(t){if(r=n(t.target),v.checked=l=c=d=f=!1,o||v.flow||t.touches&&t.touches.length>1||t.which>1||ae&&ae.type!==t.type&&oe||(l=a.select&&r.is(a.select,m)))return l;u="touchstart"===t.type,c=r.is("a, a *",m),d=r.hasClass("disableSwipe"),s=v.control,h=v.noMove||v.noSwipe||s?16:v.snap?0:4,le(t),i=ae=t,ne=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(a.onStart||pt).call(m,t,{control:s,$target:r}),o=v.flow=!0,d||u&&!v.go||Gt(t)}function g(t){if(t.touches&&t.touches.length>1||ot&&!t.isPrimary||ne!==t.type||!o)return o&&b(),void(a.onTouchEnd||pt)();if(!(d=n(t.target).hasClass("disableSwipe"))){le(t);var e=Math.abs(t._x-i._x),r=Math.abs(t._y-i._y),s=e-r,l=(v.go||v.x||s>=0)&&!v.noSwipe,c=s<0;u&&!v.checked?(o=l)&&Gt(t):(Gt(t),w(e,r)&&(a.onMove||pt).call(m,t,{touch:u})),!f&&w(e,r)&&Math.sqrt(Math.pow(e,2)+Math.pow(r,2))>h&&(f=!0),v.checked=v.checked||l||c}}function w(t,e){return t>e&&t>1.5}function b(t){(a.onTouchEnd||pt)();var e=o;v.control=o=!1,e&&(v.flow=!1),!e||c&&!v.checked||(t&&Gt(t),oe=!0,clearTimeout(ie),ie=setTimeout((function(){oe=!1}),1e3),(a.onEnd||pt).call(m,{moved:f,$target:r,control:s,touch:u,startEvent:i,aborted:!t||"MSPointerCancel"===t.type}))}function _(){v.flow&&(v.flow=!1)}ot?(Vt(m,"MSPointerDown",p),Vt(e,"MSPointerMove",g),Vt(e,"MSPointerCancel",b),Vt(e,"MSPointerUp",b)):(Vt(m,"touchstart",p),Vt(m,"touchmove",g),Vt(m,"touchend",b),Vt(e,"touchstart",(function(){v.flow||(v.flow=!0)})),Vt(e,"touchend",_),Vt(e,"touchcancel",_),Y.on("scroll",_),t.on("mousedown",p),U.on("mousemove",g).on("mouseup",b));var y="ontouchstart"in e.documentElement;return re=y?"a":"div",t.on("click",re,(function(t){v.checked&&Gt(t)})),v}function de(t,e){var a,o,i,r,s,u,l,c,d,h,f,m,v,p,g,w=t[0],b=t.data(),_={};function y(n,s){g=!0,a=o="vertical"===m?n._y:n._x,l=n._now,u=[[l,a]],i=r=_.noMove||s?0:Et(t,(e.getPos||pt)()),(e.onStart||pt).call(w,n)}return _=n.extend(ce(e.$wrap,n.extend({},e,{onStart:function(e,a){d=_.min,h=_.max,f=_.snap,m=_.direction||"horizontal",t.navdir=m,v=e.altKey,g=p=!1,a.control||b.sliding||y(e)},onMove:function(n,l){_.noSwipe||(g||y(n),o="vertical"===m?n._y:n._x,u.push([n._now,o]),s=Lt(r=i-(a-o),d,h,m),r<=d?r=$t(r,d):r>=h&&(r=$t(r,h)),_.noMove||(t.css(_t(r,m)),p||(p=!0,l.touch||ot||t.addClass(j)),(e.onMove||pt).call(w,n,{pos:r,edge:s})))},onEnd:function(a){if(!_.noSwipe||!a.moved){g||y(a.startEvent,!0),a.touch||ot||t.removeClass(j);for(var s,l,p,b,x,C,F,k,T,P=(c=n.now())-rt,S=null,E=st,M=e.friction,$=u.length-1;$>=0;$--){if(s=u[$][0],l=Math.abs(s-P),null===S||l<p)S=s,b=u[$][1];else if(S===P||l>p)break;p=l}F=wt(r,d,h);var z=b-o,q=z>=0,A=c-S,N=A>rt,D=!N&&r!==i&&F===r;f&&(F=wt(Math[D?q?"floor":"ceil":"round"](r/f)*f,d,h),d=h=F),D&&(f||F===r)&&(T=-z/A,E*=wt(Math.abs(T),e.timeLow,e.timeHigh),x=Math.round(r+T*E/M),f||(F=x),(!q&&x>h||q&&x<d)&&(C=q?d:h,f||(F=C),k=wt(F+.03*(k=x-C),C-50,C+50),E=Math.abs((r-k)/(T/M)))),E*=v?10:1,(e.onEnd||pt).call(w,n.extend(a,{moved:a.moved||N&&f,pos:r,newPos:F,overPos:k,time:E,dir:m}))}}})),_)}function he(t,e){var a,o,i,r=t[0],s={prevent:{}};return Vt(r,it,(function(t){var r=t.wheelDeltaY||-1*t.deltaY||0,u=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(u)&&!Math.abs(r),c=Zt(u<0),d=o===c,h=n.now(),f=h-i<rt;o=c,i=h,l&&s.ok&&(!s.prevent[c]||a)&&(Gt(t,!0),a&&d&&f||(e.shift&&(a=!0,clearTimeout(s.t),s.t=setTimeout((function(){a=!1}),1400)),(e.onEnd||pt)(t,e.shift?c:u)))})),s}function fe(){n.each(n.Fotorama.instances,(function(t,e){e.index=t}))}jQuery.Fotorama=function(a,x){B=n("html"),Q=n("body");var C,F,j,D,L,O,W,K,H,V,X,J,G,Z,at,it,ht,mt,pt,gt,xt,Pt,St,$t,Vt,ae,ne,oe,ie,re,se,le,ce,me,ve,pe,ge=this,we=n.now(),be=i+we,_e=a[0],ye=1,xe=a.data(),Ce=n(Ot("fotorama--hidden")),Fe=a.find(Rt(s)),ke=Fe.find(Rt(l)),Te=(ke[0],a.find(Rt("fotorama__stage__shaft"))),Pe=n(),Se=a.find(Rt("fotorama__arr--prev")),Ee=a.find(Rt("fotorama__arr--next")),Me=a.find(Rt(h)),$e=a.find(Rt(v)),je=$e.find(Rt(m)),ze=je.find(Rt("fotorama__nav__shaft")),qe=n(),Ae=n(),Ne=(Te.data(),ze.data(),a.find(Rt("fotorama__thumb-border"))),De=a.find(Rt("fotorama__thumb__arr--left")),Le=a.find(Rt("fotorama__thumb__arr--right")),Ie=a.find(Rt("fotorama__fullscreen-icon")),Oe=Ie[0],Re=n(Ot(N)),We=a.find(Rt("fotorama__video-close"))[0],Ke=a.find(Rt(I)),He=!1,Be={},Qe={},Ve={},Xe={},Ye={},Ue={},Je={},Ge=0,Ze=[];if(Fe.$stageFrame=n('<div class="'+c+'"></div>'),Fe.$navThumbFrame=n(n.Fotorama.jst.thumb()),Fe.$navDotFrame=n(n.Fotorama.jst.dots()),Ue.$stageFrame=[],Ue.$navThumbFrame=[],Ue.$navDotFrame=[],Je.$stageFrame={},Fe.addClass(tt?"fotorama__wrap--css3":"fotorama__wrap--css2"),xe.fotorama=this,x.autoplay){var ta=xe.fotorama;ke.hover((function(){ta.stopAutoplay()}))}function ea(){n.each(C,(function(t,e){if(!e.i){e.i=ye++;var a=zt(e.video,!0);if(a){var o={};e.video=a,e.img||e.thumb?e.thumbsReady=!0:o=function(t,e,a){var o,i,r=t.video;return"youtube"===r.type?(o=(i=jt()+"img.youtube.com/vi/"+r.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?n.getJSON(jt()+"vimeo.com/api/oembed.json",{url:"//vimeo.com/"+r.id},(function(n){t.thumbsReady=!0,qt(e,{img:n.thumbnail_url,thumb:n.thumbnail_url},t.i,a)})):t.thumbsReady=!0,{img:o,thumb:i}}(e,C,ge),qt(C,{img:o.img,thumb:o.thumb},e.i,ge)}}}))}function aa(){return n((ge.activeFrame||{}).$stageFrame||{}).hasClass("fotorama-video-container")}function na(t){return ne[t]}function oa(){if(ke!==o)if("vertical"==x.navdir&&F>1){var t=x.thumbwidth+x.thumbmargin;ke.css("left",t),Fe.find("."+y).css({marginBottom:x.thumbmargin+"px",marginRight:x.thumbmargin+"px",height:x.thumbheight+"px"}),je.css("marginTop","")}else ke.css("left",""),Fe.find("."+y).css({marginBottom:"",marginRight:x.thumbmargin+"px",height:x.thumbheight+"px"}),je.css("marginTop",x.thumbmargin+"px")}function ia(t){var e;t!==ia.f&&(t?(a.addClass("fotorama "+be).before(Ce),e=ge,n.Fotorama.instances.push(e),fe()):(Ce.detach(),a.html(xe.urtext).removeClass(be),function(t){n.Fotorama.instances.splice(t.index,1),fe()}(ge)),function(t){var e,a="keydown.fotorama",o=i+we,s="keydown."+o,u="keyup."+o,l="resize."+o+" orientationchange."+o;t?(U.on(s,(function(t){var a,o;D&&27===t.keyCode?(a=!0,Ba(D,!0,!0)):(ge.fullScreen||x.keyboard&&!ge.index)&&(27===t.keyCode?(a=!0,ge.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&na("space")||!t.altKey&&!t.metaKey&&37===t.keyCode&&na("left")||38===t.keyCode&&na("up")&&n(":focus").attr("data-gallery-role")?(ge.longPress.progress(),o="<"):32===t.keyCode&&na("space")||!t.altKey&&!t.metaKey&&39===t.keyCode&&na("right")||40===t.keyCode&&na("down")&&n(":focus").attr("data-gallery-role")?(ge.longPress.progress(),o=">"):36===t.keyCode&&na("home")?(ge.longPress.progress(),o="<<"):35===t.keyCode&&na("end")&&(ge.longPress.progress(),o=">>")),(a||o)&&Gt(t),e={index:o,slow:t.altKey,user:!0},o&&(ge.longPress.inProgress?ge.showWhileLongPress(e):ge.show(e))})),t&&U.on(u,(function(t){ge.longPress.inProgress&&ge.showEndLongPress({user:!0}),ge.longPress.reset()})),ge.index||U.off(a).on(a,"textarea, input, select",(function(t){!Q.hasClass(r)&&t.stopPropagation()})),Y.on(l,ge.resize)):(U.off(s),Y.off(l))}(t),ia.f=t)}function ra(){var t=F<2||D;Qe.noMove=t||gt,Qe.noSwipe=t||!x.swipe,!$t&&Te.toggleClass(d,!x.click&&!Qe.noMove&&!Qe.noSwipe),ot&&Fe.toggleClass("fotorama__wrap--pan-y",!Qe.noSwipe)}function sa(t){!0===t&&(t=""),x.autoplay=Math.max(+t||5e3,5*St)}function ua(t,e){return Math.floor(Fe.width()/(e.thumbwidth+e.thumbmargin))}function la(){var t;x.nav&&"dots"!==x.nav||(x.navdir="horizontal"),ge.options=x=Bt(x),ft=ua(0,x),gt="crossfade"===x.transition||"dissolve"===x.transition,Z=x.loop&&(F>2||gt&&(!$t||"slide"!==$t)),St=+x.transitionduration||st,ae="rtl"===x.direction,"vertical"===x.navdir&&(ae=!1),ne=n.extend({},x.keyboard&&vt,x.keyboard),(t=x).navarrows&&"thumbs"===t.nav?(De.show(),Le.show()):(De.hide(),Le.hide());var e={add:[],remove:[]};function a(t,a){e[t?"add":"remove"].push(a)}F>1?(at=x.nav,ht="top"===x.navposition,e.remove.push(P),Me.toggle(!!x.arrows)):(at=!1,Me.hide()),Ta(),Sa(),Pa(),x.autoplay&&sa(x.autoplay),xt=Ct(x.thumbwidth)||64,Pt=Ct(x.thumbheight)||64,Ve.ok=Ye.ok=x.trackpad&&!nt,ra(),Aa(x,[Be]),it="thumbs"===at,$e.filter(":hidden")&&at&&$e.show(),it?(_a(F,"navThumb"),j=Ae,pe=ct,je.addClass(_).removeClass(b)):"dots"===at?(_a(F,"navDot"),j=qe,pe=lt,je.addClass(b).removeClass(_)):($e.hide(),at=!1,je.removeClass(_+" "+b)),at&&(ht?$e.insertBefore(ke):$e.insertAfter(ke),Fa.nav=!1,Fa(j,ze,"nav")),(mt=x.allowfullscreen)?(Ie.prependTo(ke),pt=et&&"native"===mt):(Ie.detach(),pt=!1),a(gt,"fotorama__wrap--fade"),a(!gt,"fotorama__wrap--slide"),a(!x.captions,"fotorama__wrap--no-captions"),a(ae,"fotorama__wrap--rtl"),a(x.arrows,"fotorama__wrap--toggle-arrows"),a(!(Vt=x.shadows&&!nt),"fotorama__wrap--no-shadows"),Fe.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),n.extend({},x),oa()}function ca(t){return t<0?(F+t%F)%F:t>=F?t%F:t}function da(t){return wt(t,0,F-1)}function ha(t){return Z?ca(t):da(t)}function fa(t){return!!(t>0||Z)&&t-1}function ma(t){return!!(t<F-1||Z)&&t+1}function va(t,e,a){if("number"==typeof t){t=new Array(t);var o=!0}return n.each(t,(function(t,n){if(o&&(n=t),"number"==typeof n){var i=C[ca(n)];if(i){var r="$"+e+"Frame",s=i[r];a.call(this,t,n,i,s,r,s&&s.data())}}}))}function pa(t,e,a,n){(!oe||"*"===oe&&n===G)&&(t=kt(x.width)||kt(t)||500,e=kt(x.height)||kt(e)||333,ge.resize({width:t,ratio:x.ratio||a||t/e},0,n!==G&&"*"))}function ga(t,e,a,o){va(t,e,(function(t,i,r,s,u,l){if(s){var d=ge.fullScreen&&!l.$full&&"stage"===e;if(!l.$img||o||d){var h=new Image,f=n(h),m=f.data();l[d?"$full":"$img"]=f;var v="stage"===e?d?"full":"img":"thumb",p=r[v],g=d?r.img:r["stage"===e?"thumb":"img"];"navThumb"===e&&(s=l.$wrap),p?(n.Fotorama.cache[p]?function t(){"error"===n.Fotorama.cache[p]?b():"loaded"===n.Fotorama.cache[p]?setTimeout(_,0):setTimeout(t,100)}():(n.Fotorama.cache[p]="*",f.on("load",_).on("error",b)),l.state="",h.src=p,l.data.caption&&(h.alt=l.data.caption||""),l.data.full&&n(h).data("original",l.data.full),te.isExpectedCaption(r,x.showcaption)&&n(h).attr("aria-labelledby",r.labelledby)):b()}}function w(t){var e=ca(i);Na(t,{index:e,src:p,frame:C[e]})}function b(){f.remove(),n.Fotorama.cache[p]="error",r.html&&"stage"===e||!g||g===p?(!p||r.html||d?"stage"===e&&(s.trigger("f:load").removeClass(M+" "+E).addClass($),w("load"),pa()):(s.trigger("f:error").removeClass(M).addClass(E),w("error")),l.state="error",!(F>1&&C[i]===r)||r.html||r.deleted||r.video||d||(r.deleted=!0,ge.splice(i,1))):(r[v]=p=g,l.$full=null,ga([i],e,a,!0))}function _(){var t=10;Nt((function(){return!me||!t--&&!nt}),(function(){n.Fotorama.measures[p]=m.measures=n.Fotorama.measures[p]||{width:h.width,height:h.height,ratio:h.width/h.height},pa(m.measures.width,m.measures.height,m.measures.ratio,i),f.off("load error").addClass(""+(d?q:z)).attr("aria-hidden","false").prependTo(s),s.hasClass(c)&&!s.hasClass("fotorama-video-container")&&s.attr("href",f.attr("src")),Dt(f,(n.isFunction(a)?a():a)||Be),n.Fotorama.cache[p]=l.state="loaded",setTimeout((function(){s.trigger("f:load").removeClass(M+" "+E).addClass($+" "+(d?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===e?w("load"):(r.thumbratio===dt||!r.thumbratio&&x.thumbratio===dt)&&(r.thumbratio=m.measures.ratio,Za())}),0)}))}}))}function wa(){var t=L.$stageFrame;t&&!t.data().state&&(Ke.addClass("loading-mask").html('<div class="loader"></div>'),t.on("f:load f:error",(function(){t.off("f:load f:error"),Ke.removeClass("loading-mask")})))}function ba(t){Ut(t,Ua),Jt(t,(function(){setTimeout((function(){Ht(je)}),0),$a({time:St,guessIndex:n(this).data().eq,minMax:Xe})}))}function _a(t,e){va(t,e,(function(t,a,o,i,r,s){if(!i){i=o[r]=Fe[r].clone(),(s=i.data()).data=o;var u=i[0],l="labelledby"+n.now();"stage"===e?(o.html&&n('<div class="fotorama__html"></div>').append(o._html?n(o.html).removeAttr("id").html(o._html):o.html).appendTo(i),o.id&&(l=o.id||l),o.labelledby=l,te.isExpectedCaption(o,x.showcaption)&&n(n.Fotorama.jst.frameCaption({caption:o.caption,labelledby:l})).appendTo(i),o.video&&i.addClass("fotorama__stage__frame--video").append(Re.clone()),Jt(u,(function(t){setTimeout((function(){Ht(ke)}),0),Xa({index:s.eq,user:!0},t)})),Pe=Pe.add(i)):"navDot"===e?(ba(u),qe=qe.add(i)):"navThumb"===e&&(ba(u),s.$wrap=i.children(":first"),Ae=Ae.add(i),o.video&&s.$wrap.append(Re.clone()))}}))}function ya(t,e){return t&&t.length&&Dt(t,e)}function xa(t){va(t,"stage",(function(t,a,o,i,r,s){if(i){var u,l=ca(a);s.eq=l,Je.$stageFrame[l]=i.css(n.extend({left:gt?0:Tt(a,Be.w,x.margin,W)},gt&&yt(0))),u=i[0],n.contains(e.documentElement,u)||(i.appendTo(Te),Ba(o.$video)),ya(s.$img,Be),ya(s.$full,Be),!i.hasClass(c)||"false"===i.attr("aria-hidden")&&i.hasClass(T)||i.attr("aria-hidden","true")}}))}function Ca(t,e){var a,o;"thumbs"!==at||isNaN(t)||(a=-t,o=-t+Be.nw,"vertical"===x.navdir&&(t-=x.thumbheight,o=-t+Be.h),Ae.each((function(){var t=n(this).data(),i=t.eq,r=function(){return{h:Pt,w:t.w}},s=r(),u="vertical"===x.navdir?t.t>o:t.l>o;s.w=t.w,"vertical"!==x.navdir&&t.l+t.w<a||u||ya(t.$img,s)||e&&ga([i],"navThumb",r)})))}function Fa(t,e,a){if(!Fa[a]){var o="nav"===a&&it,i=0,r=0;e.append(t.filter((function(){for(var t,e=n(this),a=e.data(),o=0,i=C.length;o<i;o++)if(a.data===C[o]){t=!0,a.eq=o;break}return t||e.remove()&&!1})).sort((function(t,e){return n(t).data().eq-n(e).data().eq})).each((function(){var t=n(this),e=t.data();te.setThumbAttr(t,e.data.caption,"aria-label")})).each((function(){if(o){var t=n(this),e=t.data(),a=Math.round(Pt*e.data.thumbratio)||xt,s=Math.round(xt/e.data.thumbratio)||Pt;e.t=r,e.h=s,e.l=i,e.w=a,t.css({width:a}),r+=s+x.thumbmargin,i+=a+x.thumbmargin}}))),Fa[a]=!0}}function ka(t){return!(Z||He+t&&He-F+t||D)}function Ta(){var t=ka(0),e=ka(1);Se.toggleClass(f,t).attr(Yt(t,!1)),Ee.toggleClass(f,e).attr(Yt(e,!1))}function Pa(){var t=!1,e=!1;if("thumbs"!==x.navtype||x.loop||(t=0==He,e=He==x.data.length-1),"slides"===x.navtype){var a=bt(ze,x.navdir);t=a>=Xe.max,e=a<=Math.round(Xe.min)}De.toggleClass(f,t).attr(Yt(t,!0)),Le.toggleClass(f,e).attr(Yt(e,!0))}function Sa(){Ve.ok&&(Ve.prevent={"<":ka(0),">":ka(1)})}function Ea(t){var e,a,n,o,i=t.data();it?(e=i.l,a=i.t,n=i.w,o=i.h):(e=t.position().left,n=t.width());var r={c:e+n/2,min:-e+10*x.thumbmargin,max:-e+Be.w-n-10*x.thumbmargin},s={c:a+o/2,min:-a+10*x.thumbmargin,max:-a+Be.h-o-10*x.thumbmargin};return"vertical"===x.navdir?s:r}function Ma(t){var e=L[pe].data();ee(Ne,{time:1.2*t,pos:"vertical"===x.navdir?e.t:e.l,width:e.w,height:e.h,direction:x.navdir})}function $a(t){var e,a,n,o,i,r,s,u,l=C[t.guessIndex][pe],c=x.navtype;l&&("thumbs"===c?(e=Xe.min!==Xe.max,n=t.minMax||e&&Ea(L[pe]),o=e&&(t.keep&&$a.t?$a.l:wt((t.coo||Be.nw/2)-Ea(l).c,n.min,n.max)),i=e&&(t.keep&&$a.l?$a.l:wt((t.coo||Be.nw/2)-Ea(l).c,n.min,n.max)),r="vertical"===x.navdir?o:i,s=e&&wt(r,Xe.min,Xe.max)||0,a=1.1*t.time,ee(ze,{time:a,pos:s,direction:x.navdir,onEnd:function(){Ca(s,!0),Pa()}}),Ha(je,Lt(s,Xe.min,Xe.max,x.navdir)),$a.l=r):(u=bt(ze,x.navdir),a=1.11*t.time,s=function(t,e,a,n,o,i,r){var s,u;return"horizontal"===r?(s=t.thumbwidth,u=i.width()):(s=t.thumbheight,u=i.height()),Xt((s+t.margin)*(a+1)-t.margin>=u-n?"horizontal"===r?-o.position().left:-o.position().top:(s+t.margin)*a-t.margin<=Math.abs(n)?"horizontal"===r?-o.position().left+u-(s+t.margin):-o.position().top+u-(s+t.margin):n,e)||0}(x,Xe,t.guessIndex,u,l,$e,x.navdir),ee(ze,{time:a,pos:s,direction:x.navdir,onEnd:function(){Ca(s,!0),Pa()}}),Ha(je,Lt(s,Xe.min,Xe.max,x.navdir))))}function ja(t){for(var e=Ue[t];e.length;)e.shift().removeClass(T).attr("data-active",!1)}function za(t){var e=Je[t];n.each(O,(function(t,a){delete e[ca(a)]})),n.each(e,(function(t,a){delete e[t],a.detach()}))}function qa(t){W=K=He;var e,n,o,i=L.$stageFrame;i&&(ja(ut),Ue.$stageFrame.push(i.addClass(T).attr("data-active",!0)),i.hasClass(c)&&i.attr("aria-hidden","false"),t||ge.showStage.onEnd(!0),Et(Te,0),za(ut),xa(O),Qe.min=Z?-1/0:-Tt(F-1,Be.w,x.margin,W),Qe.max=Z?1/0:-Tt(0,Be.w,x.margin,W),Qe.snap=Be.w+x.margin,e="vertical"===x.navdir,n=e?ze.height():ze.width(),o=e?Be.h:Be.nw,Xe.min=Math.min(0,o-n),Xe.max=0,Xe.direction=x.navdir,ze.toggleClass(d,!(Xe.noMove=Xe.min===Xe.max)),Ut(Te[0],(function(){a.hasClass(S)||(ge.requestFullScreen(),Ie.focus())})))}function Aa(t,e){t&&n.each(e,(function(e,a){a&&n.extend(a,{width:t.width||a.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:Qt(t.ratio)})}))}function Na(t,e){a.trigger("fotorama:"+t,[ge,e])}function Da(){clearTimeout(La.t),me=1,x.stopautoplayontouch?ge.stopAutoplay():se=!0}function La(){me&&(x.stopautoplayontouch||(Ia(),Oa()),La.t=setTimeout((function(){me=0}),550))}function Ia(){se=!(!D&&!le)}function Oa(){if(clearTimeout(Oa.t),Nt.stop(Oa.w),x.autoplay&&!se){ge.autoplay||(ge.autoplay=!0,Na("startautoplay"));var t=He,e=L.$stageFrame.data();Oa.w=Nt((function(){return e.state||t!==He}),(function(){Oa.t=setTimeout((function(){if(!se&&t===He){var e=J,a=C[e].$stageFrame.data();Oa.w=Nt((function(){return a.state||e!==J}),(function(){se||e!==J||ge.show(Z?Zt(!ae):J)}))}}),x.autoplay)}))}else ge.autoplay&&(ge.autoplay=!1,Na("stopautoplay"))}function Ra(t){var e;return"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?K+1:"<"===e?K-1:"<<"===e?0:">>"===e?F-1:e,e=void 0===(e=isNaN(e)?o:e)?He||0:e}function Wa(t){ge.activeIndex=He=ha(t),V=fa(He),X=ma(He),J=ca(He+(ae?-1:1)),O=[He,V,X],K=Z?t:He}function Ka(t){var e=Math.abs(H-K),a=Mt(t.time,(function(){return Math.min(St*(1+(e-1)/12),2*St)}));return t.slow&&(a*=10),a}function Ha(t,e){Vt&&(t.removeClass("fotorama__shadows--left fotorama__shadows--right"),t.removeClass("fotorama__shadows--top fotorama__shadows--bottom"),e&&!D&&t.addClass(e.replace(/^|\s/g," "+k+"--")))}function Ba(t,e,a){e&&(Fe.removeClass(u),D=!1,ra()),t&&t!==D&&(t.remove(),Na("unloadvideo")),a&&(Ia(),Oa())}function Qa(t){Fe.toggleClass("fotorama__wrap--no-controls",t)}function Va(t){if(!Qe.flow){var e=t?t.pageX:Va.x,a=e&&!ka(function(t){return t-Ge>Be.w/3}(e))&&x.click;Va.p!==a&&ke.toggleClass("fotorama__pointer",a)&&(Va.p=a,Va.x=e)}}function Xa(t,e){clearTimeout(Xa.t),x.clicktransition&&x.clicktransition!==x.transition?setTimeout((function(){var e=x.transition;ge.setOptions({transition:x.clicktransition}),$t=e,Xa.t=setTimeout((function(){ge.show(t)}),10)}),0):ge.show(t,e)}function Ya(t,e){Qe[t]=Xe[t]=e}function Ua(t){var e=n(this).data().eq;"thumbs"===x.navtype?Xa({index:e,slow:t.altKey,user:!0,coo:t._x-je.offset().left}):Xa({index:e,slow:t.altKey,user:!0})}function Ja(t){Xa({index:Me.index(this)?">":"<",slow:t.altKey,user:!0})}function Ga(t){Jt(t,(function(){setTimeout((function(){Ht(ke)}),0),Qa(!1)}))}function Za(){if(C=ge.data=C||Kt(x.data)||At(a),F=ge.size=C.length,en.ok&&x.shuffle&&Wt(C),ea(),He=da(He),F&&ia(!0),la(),!Za.i){Za.i=!0;var t=x.startindex;He=W=K=H=G=ha(t)||0}if(F){if(tn())return;D&&Ba(D,!0),O=[],aa()||za(ut),Za.ok=!0,ge.show({index:He,time:0}),ge.resize()}else ge.destroy()}function tn(){if(!tn.f===ae)return tn.f=ae,He=F-1-He,ge.reverse(),!0}function en(){en.ok&&(en.ok=!1,Na("ready"))}ge.startAutoplay=function(t){return ge.autoplay||(se=le=!1,sa(t||x.autoplay),Oa()),this},ge.stopAutoplay=function(){return ge.autoplay&&(se=le=!0,Oa()),this},ge.showSlide=function(t){var e,a=bt(ze,x.navdir),n="horizontal"===x.navdir?x.thumbwidth:x.thumbheight;"next"===t&&(e=a-(n+x.margin)*ft-x.margin),"prev"===t&&(e=a+(n+x.margin)*ft-x.margin),Ca(e=Xt(e,Xe),!0),ee(ze,{time:550,pos:e,direction:x.navdir,onEnd:function(){Pa()}})},ge.showWhileLongPress=function(t){if(!ge.longPress.singlePressInProgress){Wa(Ra(t));var e=Ka(t)/50,a=L;ge.activeFrame=L=C[He];var n=a===L&&!t.user;return ge.showNav(n,t,e),this}},ge.showEndLongPress=function(t){if(!ge.longPress.singlePressInProgress){Wa(Ra(t));var e=Ka(t)/50,a=L;ge.activeFrame=L=C[He];var n=a===L&&!t.user;return ge.showStage(n,t,e),void 0!==H&&H!==He,H=He,this}},ge.showStage=function(t,e,a,n){if(n===o||"IFRAME"!=n.target.tagName){Ba(D,L.i!==C[ca(W)].i),_a(O,"stage"),xa(nt?[K]:[K,fa(K),ma(K)]),Ya("go",!0),t||Na("show",{user:e.user,time:a}),se=!0;var i=e.overPos,r=ge.showStage.onEnd=function(a){if(!r.ok){if(r.ok=!0,a||qa(!0),t||Na("showend",{user:e.user}),!a&&$t&&$t!==x.transition)return ge.setOptions({transition:$t}),void($t=!1);wa(),ga(O,"stage"),Ya("go",!1),Sa(),Va(),Ia(),Oa(),ge.fullScreen?(L.$stageFrame.find("."+q).attr("aria-hidden",!1),L.$stageFrame.find("."+z).attr("aria-hidden",!0)):(L.$stageFrame.find("."+q).attr("aria-hidden",!0),L.$stageFrame.find("."+z).attr("aria-hidden",!1))}};if(gt)ue(L.$stageFrame,C[H]&&He!==H?C[H].$stageFrame:null,Pe,{time:a,method:x.transition,onEnd:r},Ze);else ee(Te,{pos:-Tt(K,Be.w,x.margin,W),overPos:i,time:a,onEnd:r});Ta()}},ge.showNav=function(t,e,a){if(Pa(),at){ja(pe),Ue[pe].push(L[pe].addClass(T).attr("data-active",!0));var n=da(He+wt(K-H,-1,1));$a({time:a,coo:n!==He&&e.coo,guessIndex:void 0!==e.coo?n:He,keep:t}),it&&Ma(a)}},ge.show=function(t,e){ge.longPress.singlePressInProgress=!0,Wa(Ra(t));var a=Ka(t),n=L;ge.activeFrame=L=C[He];var o=n===L&&!t.user;return ge.showStage(o,t,a,e),ge.showNav(o,t,a),void 0!==H&&H!==He,H=He,ge.longPress.singlePressInProgress=!1,this},ge.requestFullScreen=function(){if(mt&&!ge.fullScreen){if(aa())return;ie=Y.scrollTop(),re=Y.scrollLeft(),Ht(Y),Ya("x",!0),ce=n.extend({},Be),a.addClass(S).appendTo(Q.addClass(r)),B.addClass(r),Ba(D,!0,!0),ge.fullScreen=!0,pt&&R.request(_e),ga(O,"stage"),wa(),Na("fullscreenenter"),ge.resize(),"ontouchstart"in t||Ie.focus()}return this},ge.cancelFullScreen=function(){return pt&&R.is()?R.cancel(e):ge.fullScreen&&(ge.fullScreen=!1,et&&R.cancel(_e),Q.removeClass(r),B.removeClass(r),a.removeClass(S).insertAfter(Ce),Be=n.extend({},ce),Ba(D,!0,!0),Ya("x",!1),ge.resize(),ga(O,"stage"),Ht(Y,re,ie),Na("fullscreenexit")),this},ge.toggleFullScreen=function(){return ge[(ge.fullScreen?"cancel":"request")+"FullScreen"]()},ge.resize=function(e){if(!C)return this;var a=arguments[1]||0,o=arguments[2];ft=ua(0,x),Aa(ge.fullScreen?{width:n(t).width(),maxwidth:null,minwidth:null,height:n(t).height(),maxheight:null,minheight:null}:Bt(e),[Be,o||ge.fullScreen||x]);var i=Be.width,r=Be.height,s=Be.ratio,u=Y.height()-(at?je.height():0);if(kt(i)&&(Fe.css({width:""}),Fe.css({height:""}),ke.css({width:""}),ke.css({height:""}),Te.css({width:""}),Te.css({height:""}),je.css({width:""}),je.css({height:""}),Fe.css({minWidth:Be.minwidth||0,maxWidth:Be.maxwidth||1200}),"dots"===at&&$e.hide(),i=Be.W=Be.w=Fe.width(),Be.nw=at&&Ft(x.navwidth,i)||i,Te.css({width:Be.w,marginLeft:(Be.W-Be.w)/2}),r=(r=Ft(r,u))||s&&i/s)){if(i=Math.round(i),r=Be.h=Math.round(wt(r,Ft(Be.minheight,u),Ft(Be.maxheight,u))),"vertical"==x.navdir&&F>1){var l=x.thumbwidth+x.thumbmargin,c=i-l,d=c*r/i;i=c,r=Be.h=d,Te.css({width:i})}if(ke.css({width:i,height:r}),"vertical"!==x.navdir||ge.fullscreen||je.width(x.thumbwidth),"horizontal"!==x.navdir||ge.fullscreen||je.height(x.thumbheight),"dots"===at&&(je.width(i).height("auto"),$e.show()),"vertical"===x.navdir&&ge.fullScreen&&ke.css("height",Y.height()),"horizontal"===x.navdir&&ge.fullScreen&&ke.css("height",Y.height()-je.height()),at){switch(x.navdir){case"vertical":$e.removeClass(w),$e.removeClass(g),$e.addClass(p),je.stop().animate({height:r,width:x.thumbwidth},a);break;case"list":$e.removeClass(p),$e.removeClass(w),$e.addClass(g);break;default:$e.removeClass(p),$e.removeClass(g),$e.addClass(w),je.stop().animate({width:Be.nw},a)}qa(),$a({guessIndex:He,time:a,keep:!0}),it&&Fa.nav&&Ma(a)}oe=o||!0,en.ok=!0,en()}return Ge=ke.offset().left,oa(),this},ge.setOptions=function(t){return n.extend(x,t),Za(),n("body").on("contentUpdated",(function(){Za()})),this},ge.shuffle=function(){return C&&Wt(C)&&Za(),this},ge.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){this.inProgress||(this.count++,this.inProgress=this.count>this.threshold)},end:function(){this.inProgress&&(this.isEnded=!0)},reset:function(){this.count=0,this.inProgress=!1,this.isEnded=!1}},ge.destroy=function(){return ge.cancelFullScreen(),ge.stopAutoplay(),C=ge.data=null,ia(),O=[],za(ut),Za.ok=!1,this},ge.playVideo=function(){var t=L,e=t.video,a=He;return"object"==typeof e&&t.videoReady&&(pt&&ge.fullScreen&&ge.cancelFullScreen(),Nt((function(){return!R.is()||a!==He}),(function(){var o;a===He&&(t.$video=t.$video||n(Ot(A)).append('<iframe src="'+(o=e).p+o.type+".com/embed/"+o.id+'" frameborder="0" allowfullscreen></iframe>'),t.$video.appendTo(t.$stageFrame),Fe.addClass(u),D=t.$video,ra(),Me.blur(),Ie.blur(),Na("loadvideo"))}))),this},ge.stopVideo=function(){return Ba(D,!0,!0),this},ge.spliceByIndex=function(t,e){e.i=t+1,e.img&&n.ajax({url:e.img,type:"HEAD",success:function(){C.splice(t,1,e),Za()}})},ke.on("mousemove",Va),Qe=de(Te,{onStart:Da,onMove:function(t,e){Ha(ke,e.edge)},onTouchEnd:La,onEnd:function(t){var e,o,i,r,s,u,l;if(Ha(ke),e=(ot&&!ve||t.touch)&&x.arrows,(t.moved||e&&t.pos!==t.newPos&&!t.control)&&t.$target[0]!==Ie[0]){var c=(r=t.newPos,s=Be.w,u=x.margin,l=W,-Math.round(r/(s+(u||0))-(l||0)));ge.show({index:c,time:gt?St:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||(o=t.startEvent,i=o.target,n(i).hasClass(N)?ge.playVideo():i===Oe?ge.toggleFullScreen():D?i===We&&Ba(D,!0,!0):a.hasClass(S)||ge.requestFullScreen())},timeLow:1,timeHigh:1,friction:2,select:"."+P+", ."+P+" *",$wrap:ke,direction:"horizontal"}),Xe=de(ze,{onStart:Da,onMove:function(t,e){Ha(je,e.edge)},onTouchEnd:La,onEnd:function(t){function e(){$a.l=t.newPos,Ia(),Oa(),Ca(t.newPos,!0),Pa()}if(t.moved)t.pos!==t.newPos?(se=!0,ee(ze,{time:t.time,pos:t.newPos,overPos:t.overPos,direction:x.navdir,onEnd:e}),Ca(t.newPos),Vt&&Ha(je,Lt(t.newPos,Xe.min,Xe.max,t.dir))):e();else{var a=t.$target.closest("."+y,ze)[0];a&&Ua.call(a,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:je,direction:x.navdir}),Ve=he(ke,{shift:!0,onEnd:function(t,e){Da(),La(),ge.show({index:e,slow:t.altKey})}}),Ye=he(je,{onEnd:function(t,e){Da(),La();var a=Et(ze)+.25*e;ze.css(_t(wt(a,Xe.min,Xe.max),x.navdir)),Vt&&Ha(je,Lt(a,Xe.min,Xe.max,x.navdir)),Ye.prevent={"<":a>=Xe.max,">":a<=Xe.min},clearTimeout(Ye.t),Ye.t=setTimeout((function(){$a.l=a,Ca(a,!0)}),rt),Ca(a)}}),Fe.hover((function(){setTimeout((function(){me||Qa(!(ve=!0))}),0)}),(function(){ve&&Qa(!(ve=!1))})),It(Me,(function(t){Gt(t),Ja.call(this,t)}),{onStart:function(){Da(),Qe.control=!0},onTouchEnd:La}),It(De,(function(t){Gt(t),"thumbs"===x.navtype?ge.show("<"):ge.showSlide("prev")})),It(Le,(function(t){Gt(t),"thumbs"===x.navtype?ge.show(">"):ge.showSlide("next")})),Me.each((function(){Ut(this,(function(t){Ja.call(this,t)})),Ga(this)})),Ut(Oe,(function(){a.hasClass(S)?(ge.cancelFullScreen(),Te.focus()):(ge.requestFullScreen(),Ie.focus())})),Ga(Oe),n.each("load push pop shift unshift reverse sort splice".split(" "),(function(t,e){ge[e]=function(){return C=C||[],"load"!==e?Array.prototype[e].apply(C,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(C=Kt(arguments[0])),Za(),ge}})),Za()},n.fn.fotorama=function(e){return this.each((function(){var a=this,o=n(this),i=o.data(),r=i.fotorama;r?r.setOptions(e,!0):Nt((function(){return!(0===(t=a).offsetWidth&&0===t.offsetHeight);var t}),(function(){i.urtext=o.html(),new n.Fotorama(o,n.extend({},mt,t.fotoramaDefaults,e,i))}))}))},n.Fotorama.instances=[],n.Fotorama.cache={},n.Fotorama.measures={},(n=n||{}).Fotorama=n.Fotorama||{},n.Fotorama.jst=n.Fotorama.jst||{},n.Fotorama.jst.dots=function(t){return'<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>','<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>'},n.Fotorama.jst.frameCaption=function(t){var e,a="";return a+='<div class="fotorama__caption" aria-hidden="true">\r\n    <div class="fotorama__caption__wrap" id="'+(null==(e=t.labelledby)?"":e)+'">'+(null==(e=t.caption)?"":e)+"</div>\r\n</div>\r\n"},n.Fotorama.jst.thumb=function(t){return'<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>','<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>'}}(window,document,location,"undefined"!=typeof jQuery&&jQuery);
